# 敵機データベース（DB.py）の汎用利用について

本データベースが、敵機の出現制御以外にも、エンティティオブジェクトの初期化や動作制御にどのように活用されているかを解説します。

---

## 1. はじめに

本データベースは単なる「出現情報の定義ファイル」ではありません。  
出現後の **敵機・ボス・特殊オブジェクトの生成と初期化処理**にも中心的に関わります。

---

## 2. 使用モジュールと連携構造

### 🎮 利用されるエンティティ系モジュール

以下すべての出現処理において、敵機オブジェクトの生成に `敵機生成()` が使用されます：

- `P敵機.py`（通常敵）
- `Pボス.py`（ボスキャラ）
- `P機雷.py`（機雷）
- `P特殊.py`（特殊オブジェクト）
- `P補給.py`（補給アイテム）

これらはすべて `/コントローラ/変更/P出現/` 内の処理です。

---

## 3. データの流れ：DB参照 → 初期化

### 処理概要：

1. 出現プロセスで機体IDが選出される（`機体ID.○○`）
2. `敵機生成(X, Y, ID, ...)` が呼び出される
3. `DB.py` 内の `敵機DB[ID]` または `ボスDB[ID]` から該当データを取得
4. データは以下の形式で使用される：

```python
(得点, (Y速度, X速度, 反転間隔), (発射間隔, 発射速度, 同時数, 角度), (弾攻撃力, 体当たり, シールド))
```

5. データは「仕様クラス」「情報クラス」に展開

---

## 4. コンポジット構造との関係

### 敵機クラス構造（例）

- `敵機オブジェクト`（コンポジット）
  - `仕様クラス（静的）`：得点・速度・攻撃力など
  - `情報クラス（動的）`：現在位置・状態・残耐久など

### 各要素モジュールの利用例：

| モジュール     | 利用目的           |
|----------------|--------------------|
| `FN移動.py`    | 移動速度（仕様）参照 |
| `FN発射.py`    | 発射間隔など参照   |
| `FN衝突.py`    | 攻撃力・シールド参照 |
| `FN描画.py`    | 表示情報の描画     |

---

## 5. 特徴と設計上の利点

- 🔁 出現・生成・動作すべてを共通データで統一
- 🧩 クラス分離により再利用性・保守性が高い
- 🧠 IDは `IntEnum` で統一され、コード上でも視認性良好
- 🛠️ 出現バランスの調整がデータ修正のみで可能

---

## 6. 補足

- この仕組みにより、新しい敵機や特殊敵を追加する際も、**DBとID定義を追加するだけで大部分の処理に対応可能**です。
