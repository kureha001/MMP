# 📘シリアル通信 コマンド一覧
---
### §ＭＰ３プレイヤー
1個のDFPlayer miniで、MP3ファイルを制御します。  

---
### 0. 情報
#### 0-1. 接続状況
**書式：`MP3/INFO/CONNECT`:`dev`!**
|引数|値|解説|
|----|--|----|
|`dev`  |0～3|物理デバイスID|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`0000!`|未接続           |
|　　|`0001!`|接続済           |
|異常|`#...!`|`Ⅰ.§戻値`を参照|

#### 0-2. 対象トラック
**書式：`MP3/INFO/TRACK`:`dev`!**
|引数|値|解説|
|----|--|----|
|`dev`  |0～3|物理デバイスID|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`XXXX!`         |再生状況         |
|異常|`#...!`|`Ⅰ.§戻値`を参照|

#### 0-3. 音量
**書式：`MP3/INFO/VOLUME`:`dev`!**
|引数|値|解説|
|----|--|----|
|`dev`  |0～3|物理デバイスID|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`0000!`～`001E!`|音量(0～30)      |
|異常|`#...!`|`Ⅰ.§戻値`を参照|

#### 0-4. イコライザーモード
**書式：`MP3/INFO/EQ`:`dev`!**
|引数|値|解説|
|----|--|----|
|`dev`  |0～3|物理デバイスID|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`0000!`:Normal  |標準      |
|    |`0001!`:Pop     |ポップス  |
|    |`0002!`:Rock    |ロック    |
|    |`0003!`:Jazz    |ジャズ    |
|    |`0004!`:Classic |クラシック|
|    |`0005!`:Bass    |ベース    |
|異常|`#...!`|`Ⅰ.§戻値`を参照|

#### 0-5. ファイルID
**書式：`MP3/INFO/FILEID`:`dev`!**
|引数|値|解説|
|----|--|----|
|`dev`  |0～3|物理デバイスID|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`XXXX!`         |ファイル番号(1～)|
|　　|`XXXX!`         |ファイル総数(1～)|
|異常|`#...!`|`Ⅰ.§戻値`を参照|


#### 0-6. ファイル総数
**書式：`MP3/INFO/FILES`:`dev`!**

|引数|値|解説|
|----|--|----|
|`dev`  |0～3|物理デバイスID|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`XXXX!`|ファイル総数(1～)|
|異常|`#...!`|`Ⅰ.§戻値`を参照|


---
### 1. トラック制御
#### 1-1. 指定フォルダ内トラックを再生開始
**書式：`MP3/TRACK/PLAY`:`dev`:`folder`:`track`!**
|引数|値|解説|
|----|--|----|
|`dev`   |0～3|物理デバイスID|
|`folder`|1～ |フォルダーID  |
|`track` |1～ |トラックID    |

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`XXXX!`|再生状況         |
|異常|`#...!`|`Ⅰ.§戻値`を参照|


#### 1-2. ループ再生を設定
**書式：`MP3/TRACK/LOOP`:`dev`:`mode`!**
|引数|値|解説|
|----|--|----|
|`dev` |0～3|物理デバイスID|
|`mode`|0:なし<br>1:あり|ループ再生有無|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`XXXX!`|再生状況         |
|異常|`#...!`|`Ⅰ.§戻値`を参照|


#### 1-4. 停止
**書式：`MP3/TRACK/STOP`:`dev`!**
|引数|値|解説|
|----|--|----|
|`dev` |0～3|物理デバイスID|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`XXXX!`|再生状況         |
|異常|`#...!`|`Ⅰ.§戻値`を参照|


#### 1-5. 一時停止
**書式：`MP3/TRACK/PAUSE`:`dev`!**
|引数|値|解説|
|----|--|----|
|`dev` |0～3|物理デバイスID|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`XXXX!`|再生状況         |
|異常|`#...!`|`Ⅰ.§戻値`を参照|


#### 1-6. 開始
**書式：`MP3/TRACK/START`:`dev`!**
|引数|値|解説|
|----|--|----|
|`dev` |0～3|物理デバイスID|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`XXXX!`|再生状況         |
|異常|`#...!`|`Ⅰ.§戻値`を参照|


---
### 2. デバイス設定
#### 2-1. 音量を設定

**書式：`MP3/TRACK/LOOP`:`dev`:`volume`!**
|引数|値|解説|
|----|--|----|
|`dev`   |0～3 |物理デバイスID|
|`volume`|0～30|音量|

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`!!!!!`|とくになし       |
|異常|`#...!`|`Ⅰ.§戻値`を参照|

**書式：`MP3/TRACK/EQ`:`dev`:`mode`!**
|引数|値|解説|
|----|--|----|
|`dev` |0～3|物理デバイスID |
|`mode`|0:Normal |標準      |
|      |1:Pop    |ポップス  |
|      |2:Rock   |ロック    |
|      |3:Jazz   |ジャズ    |
|      |4:Classic|クラシック|
|      |5:Bass   |ベース    |

|種別|戻値   |解説             |
|----|-------|-----------------|
|正常|`!!!!!`|とくになし       |
|異常|`#...!`|`Ⅰ.§戻値`を参照|