#┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#┃キャラクタ：選手(屈伸プロセス)
#┠─────────────────────────────────────
#┃更新コントローラが衝突プロセスで実行するアクション・メソッド
#┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
import main.GAME共通                         as 共通処理
from   main.データセット import データセット as DS

#┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#┃メイン
#┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
class 移動クラス:
    #┌───────────────────────────────────
    #│初期化
    #└───────────────────────────────────
    def __init__(self   ,
            引数_個体   ):   #① 個体オブジェクト
        #┬
        #〇個体オブジェクトのリファレンスを用意する
        self._情報  = 引数_個体.情報
        #┴

    #┌───────────────────────────────────
    #│機能実行
    #└───────────────────────────────────
    def 実行(self):
        #┬
        #●足を運動する(SW-ON:足仕上げ／OFF:足まっすぐ)
        入力値 = 共通処理.入出力.MMP.mmpAnaVal[0][0]  # Port:0/Ch:1
        判定   = (入力値 < DS.仕様.スイッチ閾値)
        PWM値  = (DS.仕様.モータ最大) if 判定 else (DS.仕様.モータ最小)
        self._情報.姿勢 = (1) if 判定 else (0)
        共通処理.入出力.MMP.PWM_VALUE(1, PWM値)         # 鉄棒サーボモータ
        #│
        #●手を運動する(SW-ON:捕まる／OFF:離す)
        入力値 = 共通処理.入出力.MMP.mmpAnaVal[0][1]  # Port:0/Ch:0
        判定   = (入力値 > DS.仕様.スイッチ閾値)
        PWM値  = (DS.仕様.サーボ最小) if 判定 else (DS.仕様.サーボ最大)
        共通処理.入出力.MMP.PWM_VALUE(0, PWM値)         # 選手モータ
