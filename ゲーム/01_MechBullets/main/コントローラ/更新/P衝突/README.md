# P衝突 README

## 概要
`P衝突.py` は、ゲーム中の弾とオブジェクト、および自機と敵との「衝突判定とその結果（爆発など）」を制御するサブプロセスです。処理は以下の 2 系統に分かれます：

- **攻撃による衝突**（自機の弾 → 敵機や敵弾）
- **体当たりによる衝突**（自機自身 → アイテム、敵機、敵弾）

## 主な特徴
- 衝突の種類に応じて別々の処理関数を実行
- 対象は複数オブジェクトに対応したリスト形式
- 実際の衝突判定・処理は `P衝突判定.py` に委譲

## 処理対象
- **攻撃対象**：
  - 自機の弾 → 敵機、敵弾
- **体当たり対象**：
  - 自機 → アイテム、敵機、敵弾

## 処理の流れ

### `本体.実行()`
```python
def 実行(self):
    Act実行_攻撃( [main.DB.obj敵機, main.DB.obj弾_敵機] )
    Act実行_体当たり( [main.DB.objアイテム, main.DB.obj敵機, main.DB.obj弾_敵機] )
```

### `Act実行_攻撃()`
1. 自機の弾が存在するか確認
2. 各弾に対して対象リストの各オブジェクトと衝突判定
3. 衝突が成立したら `P衝突判定_攻撃()` を呼び出し

### `Act実行_体当たり()`
1. 自機の存在を確認
2. 各自機に対して対象リストの各オブジェクトと衝突判定
3. 衝突が成立したら `P衝突判定_体当たり()` を呼び出し

## 関連ファイル
- `main/更新コントローラ/P衝突/main.py`：本体処理
- `main/更新コントローラ/P衝突/P衝突判定.py`：衝突判定と処理

---
`P衝突` は、攻撃結果や被ダメージなどのゲーム進行に直結する処理を担う、極めて重要なサブプロセスです。