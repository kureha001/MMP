# 出現プロセス 全体概要 README

## 概要
更新コントローラ内に含まれる「出現プロセス」は、ゲームの進行状況や難易度に応じて敵機やボス、特殊アイテム、補給オブジェクトなどのキャラクターを出現させるためのサブモジュール群です。プレイヤーに対する緊張感の調整や回復の機会を提供する重要な役割を担っています。

## サブプロセス一覧
以下の5つの出現サブプロセスで構成されます。

| サブプロセス | 出現対象   | 参照DB               | 備考 |
|--------------|-------------|-----------------------|------|
| P敵機        | 通常の敵機   | 敵機出現DB、敵機DB      | 出現確率に重みあり、難易度に応じて変化 |
| P機雷        | 機雷オブジェクト | 敵機DB               | 固定のIDで直接生成される |
| P補給        | 補給アイテム | アイテムDB、敵機DB      | 敵機生成と同じ処理で生成される |
| P特殊        | 特殊アイテム | アイテムDB、敵機DB、特殊効果 | 効果発動中の確認処理あり |
| Pボス        | ボス敵機     | ボス出現DB、敵機DB      | 複数体同時出現可能、難易度に応じて変化 |

## データ構造

| 要素クラス | 仕様クラス | 情報クラス |
|------------|------------|------------|
| 本体     　| ○          | ×          | 
| P敵機     | ×          | ×          | 
| P機雷     | ×          | ×          | 
| P補給     | ×          | ×          | 
| P特殊     | ×          | ×          | 
| Pボス     | ×          | ×          |

## 共通点と差異

- **共通点**：すべて `敵機生成()` を通じてオブジェクト化される
- **差異**：使用するIDやDB構造、出現条件が異なる

## 関連モジュール
- `/更新コントローラ/P出現/` フォルダ以下の各ファイル（P敵機.py、Pボス.pyなど）
- `/キャラクタ/敵機/DB.py`：機体IDとパラメータ
- `/特殊効果/DB.py`：アイテムIDと効果定義

## 実装の補足
- P敵機とPボスでは、出現対象の選出に `random.choices()` による重み付き抽選が使われている
- P特殊では `main.DB.obj特殊効果` を参照して、発動中の効果と重複しないようにする

---
このモジュール群はゲーム内の難易度変動や戦況バランスに関わるコアロジックであり、今後の拡張にも対応しやすい構成となっています。
